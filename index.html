<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Aliz 多功能搜尋 Bookmarklet</title>
  <style>
    body { font-family: sans-serif; padding: 2em; background: #f9f9fb; max-width: 600px; margin: auto; }
    h1 { color: #2574A9; }
    .bookmarklet {
      display: inline-block;
      padding: 0.8em 1.6em;
      background: #448aff;
      color: #fff;
      border-radius: 8px;
      font-size: 1.2em;
      text-decoration: none;
      cursor: grab;
      box-shadow: 0 2px 12px #448aff44;
      margin: 1.5em 0;
    }
    .bookmarklet:hover { background: #2962ff; }
    .instructions {
      background: #fffbe0;
      border-left: 5px solid #ffd700;
      padding: 1em 1.5em;
      border-radius: 8px;
      color: #444;
      margin-bottom: 2em;
    }
  </style>
</head>
<body>
  <h1>Aliz 多功能搜尋 Bookmarklet</h1>
  <div class="instructions">
    <b>使用說明：</b><br>
    1. 請將下方藍色按鈕<strong>拖曳到你的瀏覽器書籤列</strong>，即可安裝。<br>
    2. 之後瀏覽任何頁面，只要點這個書籤，即可彈出搜尋選單。<br>
    3. 支援學費範圍、多組關鍵字、鄰近地區三種搜尋。
  </div>
  <a class="bookmarklet" href="javascript:(function(){const nearbyMap={&#34;沙田&#34;:[&#34;沙田&#34;,&#34;大圍&#34;,&#34;火炭&#34;,&#34;馬料水&#34;,&#34;烏溪沙&#34;,&#34;馬鞍山&#34;,&#34;大埔&#34;],&#34;大圍&#34;:[&#34;大圍&#34;,&#34;沙田&#34;,&#34;火炭&#34;,&#34;車公廟&#34;],&#34;馬鞍山&#34;:[&#34;馬鞍山&#34;,&#34;烏溪沙&#34;,&#34;馬料水&#34;,&#34;西貢&#34;,&#34;沙田&#34;],&#34;烏溪沙&#34;:[&#34;烏溪沙&#34;,&#34;馬鞍山&#34;,&#34;馬料水&#34;,&#34;沙田&#34;],&#34;火炭&#34;:[&#34;火炭&#34;,&#34;大圍&#34;,&#34;沙田&#34;,&#34;馬料水&#34;],&#34;馬料水&#34;:[&#34;馬料水&#34;,&#34;火炭&#34;,&#34;沙田&#34;,&#34;馬鞍山&#34;,&#34;烏溪沙&#34;],&#34;大埔&#34;:[&#34;大埔&#34;,&#34;大埔墟&#34;,&#34;太和&#34;,&#34;林村&#34;,&#34;粉嶺&#34;,&#34;沙田&#34;],&#34;太和&#34;:[&#34;太和&#34;,&#34;大埔&#34;,&#34;大埔墟&#34;],&#34;元朗&#34;:[&#34;元朗&#34;,&#34;天水圍&#34;,&#34;洪水橋&#34;,&#34;錦田&#34;,&#34;屏山&#34;,&#34;朗屏&#34;,&#34;流浮山&#34;],&#34;天水圍&#34;:[&#34;天水圍&#34;,&#34;元朗&#34;,&#34;朗屏&#34;,&#34;流浮山&#34;,&#34;洪水橋&#34;],&#34;荃灣&#34;:[&#34;荃灣&#34;,&#34;葵涌&#34;,&#34;青衣&#34;,&#34;梨木樹&#34;,&#34;大窩口&#34;],&#34;屯門&#34;:[&#34;屯門&#34;,&#34;兆康&#34;,&#34;新墟&#34;,&#34;蝴蝶灣&#34;,&#34;龍門&#34;,&#34;洪水橋&#34;],&#34;粉嶺&#34;:[&#34;粉嶺&#34;,&#34;上水&#34;,&#34;聯和墟&#34;,&#34;古洞&#34;,&#34;大埔&#34;],&#34;上水&#34;:[&#34;上水&#34;,&#34;粉嶺&#34;,&#34;古洞&#34;,&#34;沙頭角&#34;],&#34;西貢&#34;:[&#34;西貢&#34;,&#34;將軍澳&#34;,&#34;清水灣&#34;,&#34;馬鞍山&#34;,&#34;調景嶺&#34;],&#34;將軍澳&#34;:[&#34;將軍澳&#34;,&#34;坑口&#34;,&#34;寶琳&#34;,&#34;調景嶺&#34;,&#34;康城&#34;,&#34;西貢&#34;],&#34;葵涌&#34;:[&#34;葵涌&#34;,&#34;荃灣&#34;,&#34;青衣&#34;,&#34;石籬&#34;,&#34;安蔭&#34;],&#34;青衣&#34;:[&#34;青衣&#34;,&#34;葵涌&#34;,&#34;荃灣&#34;],&#34;離島&#34;:[&#34;東涌&#34;,&#34;長洲&#34;,&#34;坪洲&#34;,&#34;愉景灣&#34;,&#34;梅窩&#34;,&#34;大澳&#34;,&#34;南丫島&#34;],&#34;旺角&#34;:[&#34;旺角&#34;,&#34;油麻地&#34;,&#34;太子&#34;,&#34;佐敦&#34;,&#34;大角咀&#34;],&#34;油麻地&#34;:[&#34;油麻地&#34;,&#34;旺角&#34;,&#34;佐敦&#34;,&#34;柯士甸&#34;,&#34;廟街&#34;],&#34;佐敦&#34;:[&#34;佐敦&#34;,&#34;油麻地&#34;,&#34;尖沙咀&#34;,&#34;旺角&#34;],&#34;尖沙咀&#34;:[&#34;尖沙咀&#34;,&#34;佐敦&#34;,&#34;柯士甸&#34;,&#34;紅磡&#34;],&#34;紅磡&#34;:[&#34;紅磡&#34;,&#34;黃埔&#34;,&#34;尖沙咀&#34;,&#34;土瓜灣&#34;,&#34;何文田&#34;],&#34;何文田&#34;:[&#34;何文田&#34;,&#34;土瓜灣&#34;,&#34;紅磡&#34;,&#34;九龍塘&#34;],&#34;九龍塘&#34;:[&#34;九龍塘&#34;,&#34;石硤尾&#34;,&#34;何文田&#34;,&#34;太子&#34;,&#34;新蒲崗&#34;],&#34;太子&#34;:[&#34;太子&#34;,&#34;旺角&#34;,&#34;深水埗&#34;,&#34;九龍塘&#34;],&#34;深水埗&#34;:[&#34;深水埗&#34;,&#34;長沙灣&#34;,&#34;荔枝角&#34;,&#34;石硤尾&#34;,&#34;太子&#34;],&#34;長沙灣&#34;:[&#34;長沙灣&#34;,&#34;深水埗&#34;,&#34;荔枝角&#34;],&#34;荔枝角&#34;:[&#34;荔枝角&#34;,&#34;長沙灣&#34;,&#34;美孚&#34;,&#34;石硤尾&#34;],&#34;觀塘&#34;:[&#34;觀塘&#34;,&#34;牛頭角&#34;,&#34;藍田&#34;,&#34;油塘&#34;,&#34;秀茂坪&#34;],&#34;牛頭角&#34;:[&#34;牛頭角&#34;,&#34;觀塘&#34;,&#34;九龍灣&#34;,&#34;新蒲崗&#34;],&#34;九龍灣&#34;:[&#34;九龍灣&#34;,&#34;牛頭角&#34;,&#34;新蒲崗&#34;,&#34;彩虹&#34;],&#34;新蒲崗&#34;:[&#34;新蒲崗&#34;,&#34;九龍灣&#34;,&#34;牛頭角&#34;,&#34;黃大仙&#34;,&#34;啟德&#34;],&#34;黃大仙&#34;:[&#34;黃大仙&#34;,&#34;鑽石山&#34;,&#34;慈雲山&#34;,&#34;新蒲崗&#34;,&#34;樂富&#34;],&#34;鑽石山&#34;:[&#34;鑽石山&#34;,&#34;黃大仙&#34;,&#34;慈雲山&#34;,&#34;彩虹&#34;,&#34;啟德&#34;],&#34;宋皇臺&#34;:[&#34;鑽石山&#34;,&#34;啟德&#34;,&#34;土瓜灣&#34;,&#34;九龍城&#34;,&#34;啟德&#34;],&#34;啟德&#34;:[&#34;鑽石山&#34;,&#34;新蒲崗&#34;,&#34;宋皇臺&#34;],&#34;九龍城&#34;:[&#34;未知&#34;,&#34;未知&#34;,&#34;未知&#34;],&#34;中環&#34;:[&#34;中環&#34;,&#34;金鐘&#34;,&#34;上環&#34;,&#34;半山&#34;,&#34;蘭桂坊&#34;],&#34;金鐘&#34;:[&#34;金鐘&#34;,&#34;中環&#34;,&#34;灣仔&#34;,&#34;金鐘道&#34;],&#34;灣仔&#34;:[&#34;灣仔&#34;,&#34;銅鑼灣&#34;,&#34;金鐘&#34;,&#34;跑馬地&#34;,&#34;大坑&#34;],&#34;銅鑼灣&#34;:[&#34;銅鑼灣&#34;,&#34;灣仔&#34;,&#34;天后&#34;,&#34;跑馬地&#34;,&#34;大坑&#34;],&#34;天后&#34;:[&#34;天后&#34;,&#34;銅鑼灣&#34;,&#34;北角&#34;],&#34;北角&#34;:[&#34;北角&#34;,&#34;炮台山&#34;,&#34;天后&#34;,&#34;鰂魚涌&#34;],&#34;鰂魚涌&#34;:[&#34;鰂魚涌&#34;,&#34;太古&#34;,&#34;筲箕灣&#34;,&#34;北角&#34;],&#34;太古&#34;:[&#34;太古&#34;,&#34;鰂魚涌&#34;,&#34;西灣河&#34;],&#34;西灣河&#34;:[&#34;西灣河&#34;,&#34;筲箕灣&#34;,&#34;太古&#34;],&#34;筲箕灣&#34;:[&#34;筲箕灣&#34;,&#34;西灣河&#34;,&#34;柴灣&#34;],&#34;柴灣&#34;:[&#34;柴灣&#34;,&#34;筲箕灣&#34;,&#34;小西灣&#34;],&#34;香港仔&#34;:[&#34;香港仔&#34;,&#34;黃竹坑&#34;,&#34;鴨脷洲&#34;,&#34;田灣&#34;],&#34;黃竹坑&#34;:[&#34;黃竹坑&#34;,&#34;香港仔&#34;,&#34;海洋公園&#34;],&#34;赤柱&#34;:[&#34;赤柱&#34;,&#34;淺水灣&#34;,&#34;石澳&#34;,&#34;大潭&#34;],&#34;淺水灣&#34;:[&#34;淺水灣&#34;,&#34;深水灣&#34;,&#34;赤柱&#34;],&#34;深水灣&#34;:[&#34;深水灣&#34;,&#34;淺水灣&#34;]};var classes=[&#39;.gpt-num-highlight&#39;,&#39;.gpt-area-highlight&#39;,&#39;.gpt-multikey-highlight&#39;];classes.forEach(function(cls){document.querySelectorAll(cls).forEach(function(el){var parent=el.parentNode;parent.replaceChild(document.createTextNode(el.textContent),el);parent.normalize();});});var oldNav=document.getElementById(&#39;gpt-nav-ui&#39;);if(oldNav)oldNav.remove();var mode=prompt(&#39;💩Welcome to Aliz no need issue💩\n請輸入數字：\n1 = 學費範圍💰\n2 = 多組關鍵字🔍\n3 = 鄰近地區📍\n其它 = 關閉❌&#39;);if(![&#39;1&#39;,&#39;2&#39;,&#39;3&#39;].includes(mode))return;function getTextNodes(node){var nodes=[];if(node.nodeType===3){nodes.push(node);}else if(node.nodeType===1&amp;&amp;node.childNodes&amp;&amp;!/^(script|style|textarea|input)$/i.test(node.tagName)){for(var i=0;i&lt;node.childNodes.length;i++)nodes=nodes.concat(getTextNodes(node.childNodes[i]));}return nodes;}var textNodes=getTextNodes(document.body);var highlights=[];var infoText=&#34;&#34;;if(mode===&#39;1&#39;){var min=parseFloat(prompt(&#39;請輸入最低學費（不建議搜尋個位數）：&#39;,&#39;100&#39;));var max=parseFloat(prompt(&#39;請輸入最高學費：&#39;,&#39;300&#39;));if(isNaN(min)||isNaN(max)||min&gt;max)return alert(&#39;輸入無效&#39;);var numberRegex=/\d+(\.\d+)?/g;textNodes.forEach(function(node){var text=node.nodeValue;var match,lastIndex=0,parent=node.parentNode,frag=document.createDocumentFragment();numberRegex.lastIndex=0;var found=false;while((match=numberRegex.exec(text))!==null){var num=parseFloat(match[0]);if(num&gt;=min&amp;&amp;num&lt;=max){found=true;frag.appendChild(document.createTextNode(text.slice(lastIndex,match.index)));var span=document.createElement(&#39;span&#39;);span.textContent=match[0];span.className=&#39;gpt-num-highlight&#39;;span.style.background=&#39;yellow&#39;;span.style.color=&#39;black&#39;;span.style.fontWeight=&#39;bold&#39;;frag.appendChild(span);highlights.push(span);lastIndex=match.index+match[0].length;}}if(found){frag.appendChild(document.createTextNode(text.slice(lastIndex)));parent.replaceChild(frag,node);}});infoText=&#34;數值範圍：&#34;+min+&#34; ~ &#34;+max;}if(mode===&#39;2&#39;){var input=prompt(&#39;請輸入關鍵字（可多個，用逗號或空格分隔）：\n例如：幼稚園,幼兒&#39;);if(!input)return;var keywords=input.split(/[,，\s]+/).map(function(s){return s.trim();}).filter(Boolean);if(!keywords.length)return;var regex=new RegExp(keywords.map(k=&gt;k.replace(/([.*+?^=!:${}()|[\]\/\\])/g,&#34;\\$1&#34;)).join(&#39;|&#39;),&#39;g&#39;);textNodes.forEach(function(node){var text=node.nodeValue;var match,lastIndex=0,parent=node.parentNode,frag=document.createDocumentFragment();regex.lastIndex=0;var found=false;while((match=regex.exec(text))!==null){found=true;frag.appendChild(document.createTextNode(text.slice(lastIndex,match.index)));var span=document.createElement(&#39;span&#39;);span.textContent=match[0];span.className=&#39;gpt-multikey-highlight&#39;;span.style.background=&#39;gold&#39;;span.style.color=&#39;black&#39;;span.style.fontWeight=&#39;bold&#39;;frag.appendChild(span);highlights.push(span);lastIndex=match.index+match[0].length;}if(found){frag.appendChild(document.createTextNode(text.slice(lastIndex)));parent.replaceChild(frag,node);}});infoText=&#34;多關鍵字：&#34;+keywords.join(&#34;, &#34;);}if(mode===&#39;3&#39;){var area=prompt(&#39;請輸入一個地區名稱（如：馬鞍山 / 新蒲崗 / 西灣河...）：&#39;);if(!area)return;area=area.trim();var keywords=[];var foundKey=null;for(var key in nearbyMap){if(key===area){keywords=nearbyMap[key];foundKey=key;break;}}if(!foundKey){for(var key in nearbyMap){if(nearbyMap[key].includes(area)){keywords=nearbyMap[key];foundKey=key;break;}}}if(!foundKey){alert(&#39;抱歉，未有此地區的鄰近地區資料，可聯絡開發者擴充！&#39;);return;}var regex=new RegExp(keywords.map(function(k){return k.replace(/([.*+?^=!:${}()|[\]\/\\])/g,&#34;\\$1&#34;);}).join(&#39;|&#39;),&#39;g&#39;);textNodes.forEach(function(node){var text=node.nodeValue;var match,lastIndex=0,parent=node.parentNode,frag=document.createDocumentFragment();regex.lastIndex=0;var found=false;while((match=regex.exec(text))!==null){found=true;frag.appendChild(document.createTextNode(text.slice(lastIndex,match.index)));var span=document.createElement(&#39;span&#39;);span.textContent=match[0];span.className=&#39;gpt-area-highlight&#39;;span.style.background=&#39;lime&#39;;span.style.color=&#39;black&#39;;span.style.fontWeight=&#39;bold&#39;;frag.appendChild(span);highlights.push(span);lastIndex=match.index+match[0].length;}if(found){frag.appendChild(document.createTextNode(text.slice(lastIndex)));parent.replaceChild(frag,node);}});infoText=&#34;地區：「&#34;+area+&#34;」及鄰近 (&#34;+keywords.join(&#39;、&#39;)+&#34;)&#34;;}if(highlights.length===0){alert(&#39;找不到符合的結果！&#39;);return;}var idx=0;function scrollToHighlight(i){highlights.forEach(function(h){h.style.outline=&#39;&#39;;});highlights[i].scrollIntoView({behavior:&#39;smooth&#39;,block:&#39;center&#39;});highlights[i].style.outline=&#39;2px solid orange&#39;;}scrollToHighlight(idx);var navDiv=document.createElement(&#39;div&#39;);navDiv.id=&#34;gpt-nav-ui&#34;;navDiv.style.position=&#39;fixed&#39;;navDiv.style.top=&#39;30px&#39;;navDiv.style.right=&#39;30px&#39;;navDiv.style.left=&#39;&#39;;navDiv.style.bottom=&#39;&#39;;navDiv.style.background=&#39;rgba(255,255,200,0.97)&#39;;navDiv.style.border=&#39;1px solid #aaa&#39;;navDiv.style.zIndex=999999;navDiv.style.padding=&#39;8px 12px&#39;;navDiv.style.borderRadius=&#39;6px&#39;;navDiv.style.boxShadow=&#39;0 2px 8px #ccc&#39;;navDiv.style.fontFamily=&#39;sans-serif&#39;;navDiv.style.fontSize=&#39;15px&#39;;navDiv.innerHTML=`<button id=&#34;gpt-prev&#34;>上一個</button><span id=&#34;gpt-counter&#34;>1 / ${highlights.length}</span><button id=&#34;gpt-next&#34;>下一個</button><button id=&#34;gpt-close&#34; style=&#34;margin-left:10px;&#34;>關閉</button><span style=&#34;margin-left:10px;font-size:90%;color:#444;&#34;>${infoText}</span>`;document.body.appendChild(navDiv);document.getElementById(&#39;gpt-prev&#39;).onclick=function(){idx=(idx-1+highlights.length)%highlights.length;scrollToHighlight(idx);document.getElementById(&#39;gpt-counter&#39;).textContent=`${idx+1} / ${highlights.length}`;};document.getElementById(&#39;gpt-next&#39;).onclick=function(){idx=(idx+1)%highlights.length;scrollToHighlight(idx);document.getElementById(&#39;gpt-counter&#39;).textContent=`${idx+1} / ${highlights.length}`;};document.getElementById(&#39;gpt-close&#39;).onclick=function(){navDiv.remove();highlights.forEach(function(h){var parent=h.parentNode;parent.replaceChild(document.createTextNode(h.textContent),h);parent.normalize();});};})();">✨ 拖曳這個到書籤列</a>
</body>
</html>
